/*! For license information please see main.d468b82bb6aa1996b678.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateportfolio_v2("main",{"./app/index.js":(e,t,s)=>{s.r(t);var n=s("./node_modules/normalize-wheel/index.js"),a=s.n(n),i=s("./node_modules/lodash/each.js"),o=s.n(i),h=s("./app/classes/Detection.js"),c=s("./app/components/Canvas/index.js"),d=s("./app/components/Preloader.js"),p=s("./app/components/Navigation.js"),r=s("./app/pages/Home/index.js"),u=s("./app/pages/Detail/index.js"),l=s("./app/pages/About/index.js");new class{constructor(){this.createContent(),h.default.isDesktop()&&this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.addEventListeners(),this.addLinkListeners(),this.onResize(),this.update()}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createCanvas(){this.canvas=new c.default({template:this.template})}createPreloader(){this.preloader=new d.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createNavigation(){this.navigation=new p.default({template:this.template})}createPages(){this.pages={home:new r.default,detail:new u.default,about:new l.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas&&this.canvas.onPreloaded(),this.page.show()}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:e,push:t=!0}){this.canvas&&this.canvas.onChangeStart(this.template,e),await this.page.hide();const s=await window.fetch(e);if(200===s.status){const n=await s.text(),a=document.createElement("div");t&&window.history.pushState({},"",e),a.innerHTML=n;const i=a.querySelector(".content");this.template=i.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=i.innerHTML,this.canvas&&this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.error(`response status: ${s.status}`)}onResize(){this.page&&this.page.onResize&&this.page.onResize(),window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()}))}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e),this.page&&this.page.onTouchDown&&this.page.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e),this.page&&this.page.onTouchDown&&this.page.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e),this.page&&this.page.onTouchDown&&this.page.onTouchUp(e)}onWheel(e){const t=a()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");o()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.onChange({url:s})}}))}}}},(function(e){e.h=()=>"d1374978c73377618499"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVM0MsS0FBS3RCLE9BRXZEc0MsT0FBT2dDLGlCQUFpQixhQUFjdEUsS0FBSzhELFlBQVl4QyxLQUFLdEIsT0FDNURzQyxPQUFPZ0MsaUJBQWlCLFlBQWF0RSxLQUFLZ0UsWUFBWTFDLEtBQUt0QixPQUMzRHNDLE9BQU9nQyxpQkFBaUIsV0FBWXRFLEtBQUtpRSxVQUFVM0MsS0FBS3RCLE9BRXhEc0MsT0FBT2dDLGlCQUFpQixTQUFVdEUsS0FBS1MsU0FBU2EsS0FBS3RCLE1BQ3ZELENBRUFRLG1CQUNFLE1BQU0rRCxFQUFRM0QsU0FBUzRELGlCQUFpQixLQUN4Q0MsSUFBS0YsR0FBUUcsSUFDWEEsRUFBS0MsUUFBV1osSUFDZEEsRUFBTWEsaUJBRU4sTUFBTSxLQUFFQyxHQUFTSCxFQUNqQjFFLEtBQUtvQyxTQUFTLENBQUVDLElBQUt3QyxHQUFPLENBQzdCLEdBRUwsa0JDMU5GQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvX3YyLy4vYXBwL2luZGV4LmpzIiwid2VicGFjazovL3BvcnRmb2xpb192Mi93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5vcm1hbGl6ZVdoZWVsIGZyb20gJ25vcm1hbGl6ZS13aGVlbCdcbmltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJ1xuXG5pbXBvcnQgRGV0ZWN0aW9uIGZyb20gJ2NsYXNzZXMvRGV0ZWN0aW9uJztcblxuaW1wb3J0IENhbnZhcyBmcm9tICdjb21wb25lbnRzL0NhbnZhcydcblxuaW1wb3J0IFByZWxvYWRlciBmcm9tICcuL2NvbXBvbmVudHMvUHJlbG9hZGVyJ1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAnLi9jb21wb25lbnRzL05hdmlnYXRpb24nXG5cbmltcG9ydCBIb21lIGZyb20gJy4vcGFnZXMvSG9tZSdcbmltcG9ydCBEZXRhaWwgZnJvbSAnLi9wYWdlcy9EZXRhaWwnXG5pbXBvcnQgQWJvdXQgZnJvbSAnLi9wYWdlcy9BYm91dCdcblxuY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKVxuXG4gICAgIURldGVjdGlvbi5pc0Rlc2t0b3AoKSA/IG51bGwgOiB0aGlzLmNyZWF0ZUNhbnZhcygpXG5cbiAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpXG4gICAgdGhpcy5jcmVhdGVOYXZpZ2F0aW9uKClcblxuICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpXG4gICAgdGhpcy5hZGRMaW5rTGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLm9uUmVzaXplKClcblxuICAgIHRoaXMudXBkYXRlKClcbiAgfVxuXG4gIGNyZWF0ZUNvbnRlbnQoKXtcbiAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMuY29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKVxuICB9XG5cbiAgY3JlYXRlQ2FudmFzKCl7XG4gICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKHsgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGUgfSlcbiAgfVxuXG4gIGNyZWF0ZVByZWxvYWRlcigpe1xuICAgIHRoaXMucHJlbG9hZGVyID0gbmV3IFByZWxvYWRlcih7XG4gICAgICBjYW52YXM6IHRoaXMuY2FudmFzXG4gICAgfSlcblxuICAgIHRoaXMucHJlbG9hZGVyLm9uY2UoJ2NvbXBsZXRlZCcsIHRoaXMub25QcmVsb2FkZWQuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGNyZWF0ZU5hdmlnYXRpb24oKXtcbiAgICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbih7IHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlIH0pXG4gIH1cblxuICBjcmVhdGVQYWdlcygpe1xuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBob21lOiBuZXcgSG9tZSgpLFxuICAgICAgZGV0YWlsOiBuZXcgRGV0YWlsKCksXG4gICAgICBhYm91dDogbmV3IEFib3V0KClcbiAgICB9XG5cbiAgICB0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXG4gICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG4gIH1cblxuICBvblByZWxvYWRlZCgpe1xuICAgIHRoaXMub25SZXNpemUoKVxuXG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblByZWxvYWRlZCgpXG4gICAgfVxuXG4gICAgdGhpcy5wYWdlLnNob3coKVxuICB9XG5cbiAgb25Qb3BTdGF0ZSgpIHtcbiAgICB0aGlzLm9uQ2hhbmdlKHtcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgcHVzaDogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBvbkNoYW5nZSh7IHVybCwgcHVzaCA9IHRydWUgfSl7XG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vbkNoYW5nZVN0YXJ0KHRoaXMudGVtcGxhdGUsIHVybClcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnBhZ2UuaGlkZSgpXG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKVxuXG4gICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzLnRleHQoKVxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgICAgaWYgKHB1c2gpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsKTtcbiAgICAgIH1cblxuICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxcblxuICAgICAgY29uc3QgZGl2Q29udGVudCA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXG5cbiAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXG5cbiAgICAgIHRoaXMubmF2aWdhdGlvbi5vbkNoYW5nZSh0aGlzLnRlbXBsYXRlKVxuXG4gICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSlcbiAgICAgIHRoaXMuY29udGVudC5pbm5lckhUTUwgPSBkaXZDb250ZW50LmlubmVySFRNTFxuXG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXMub25DaGFuZ2VFbmQodGhpcy50ZW1wbGF0ZSlcbiAgICAgIH1cblxuICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG5cbiAgICAgIHRoaXMub25SZXNpemUoKVxuXG4gICAgICB0aGlzLnBhZ2Uuc2hvdygpXG5cbiAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGByZXNwb25zZSBzdGF0dXM6ICR7cmVzLnN0YXR1c31gKVxuICAgIH1cbiAgfVxuXG4gIG9uUmVzaXplKCl7XG4gICAgaWYodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vblJlc2l6ZSl7XG4gICAgICB0aGlzLnBhZ2Uub25SZXNpemUoKVxuICAgIH1cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXyA9PiB7XG4gICAgICBpZih0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblJlc2l6ZSl7XG4gICAgICAgIHRoaXMuY2FudmFzLm9uUmVzaXplKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgb25Ub3VjaERvd24gKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hEb3duKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoRG93bihldmVudClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vblRvdWNoRG93bikge1xuICAgICAgdGhpcy5wYWdlLm9uVG91Y2hEb3duKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hNb3ZlIChldmVudCkge1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZSkge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUoZXZlbnQpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25Ub3VjaERvd24pIHtcbiAgICAgIHRoaXMucGFnZS5vblRvdWNoTW92ZShldmVudClcbiAgICB9XG4gIH1cblxuICBvblRvdWNoVXAgKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hVcCkge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaFVwKGV2ZW50KVxuICAgIH1cblxuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uVG91Y2hEb3duKSB7XG4gICAgICB0aGlzLnBhZ2Uub25Ub3VjaFVwKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIG9uV2hlZWwoZXZlbnQpe1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRXaGVlbCA9IE5vcm1hbGl6ZVdoZWVsKGV2ZW50KVxuXG4gICAgaWYodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25XaGVlbCl7XG4gICAgICB0aGlzLmNhbnZhcy5vbldoZWVsKG5vcm1hbGl6ZWRXaGVlbClcbiAgICB9XG5cbiAgICBpZih0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uV2hlZWwpe1xuICAgICAgdGhpcy5wYWdlLm9uV2hlZWwobm9ybWFsaXplZFdoZWVsKVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSgpe1xuICAgIGlmKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UudXBkYXRlKXtcbiAgICAgIHRoaXMucGFnZS51cGRhdGUoKVxuICAgIH1cblxuICAgIGlmKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnVwZGF0ZSl7XG4gICAgICB0aGlzLmNhbnZhcy51cGRhdGUodGhpcy5wYWdlLnNjcm9sbClcbiAgICB9XG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlLmJpbmQodGhpcykpXG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpe1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbldoZWVsLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5vblBvcFN0YXRlLmJpbmQodGhpcykpXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGFkZExpbmtMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJyk7XG4gICAgZWFjaChsaW5rcywgKGxpbmspID0+IHtcbiAgICAgIGxpbmsub25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHsgaHJlZiB9ID0gbGluaztcbiAgICAgICAgdGhpcy5vbkNoYW5nZSh7IHVybDogaHJlZiB9KTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn1cblxubmV3IEFwcCgpXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJkMTM3NDk3OGM3MzM3NzYxODQ5OVwiKSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJjcmVhdGVDb250ZW50IiwiRGV0ZWN0aW9uIiwiY3JlYXRlQ2FudmFzIiwiY3JlYXRlUHJlbG9hZGVyIiwiY3JlYXRlTmF2aWdhdGlvbiIsImNyZWF0ZVBhZ2VzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJhZGRMaW5rTGlzdGVuZXJzIiwib25SZXNpemUiLCJ1cGRhdGUiLCJjb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGVtcGxhdGUiLCJnZXRBdHRyaWJ1dGUiLCJjYW52YXMiLCJDYW52YXMiLCJwcmVsb2FkZXIiLCJQcmVsb2FkZXIiLCJvbmNlIiwib25QcmVsb2FkZWQiLCJiaW5kIiwibmF2aWdhdGlvbiIsIk5hdmlnYXRpb24iLCJwYWdlcyIsImhvbWUiLCJIb21lIiwiZGV0YWlsIiwiRGV0YWlsIiwiYWJvdXQiLCJBYm91dCIsInBhZ2UiLCJjcmVhdGUiLCJzaG93Iiwib25Qb3BTdGF0ZSIsIm9uQ2hhbmdlIiwidXJsIiwid2luZG93IiwibG9jYXRpb24iLCJwYXRobmFtZSIsInB1c2giLCJhc3luYyIsIm9uQ2hhbmdlU3RhcnQiLCJoaWRlIiwicmVzIiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiaW5uZXJIVE1MIiwiZGl2Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIm9uQ2hhbmdlRW5kIiwiY29uc29sZSIsImVycm9yIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiXyIsIm9uVG91Y2hEb3duIiwiZXZlbnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJub3JtYWxpemVkV2hlZWwiLCJOb3JtYWxpemVXaGVlbCIsInNjcm9sbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlYWNoIiwibGluayIsIm9uY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsImhyZWYiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=